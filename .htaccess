RewriteEngine On

# 1. Handle extensionless PHP files (Friendly URLs)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php [L]

# 2. Redirect to correct php file for courses
RewriteRule ^curso/([a-zA-Z0-9-]+)$ curso/index.php?slug=$1 [L,QSA]

# 3. Optional: Add trailing slash if missing (Only for directories)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !index.php
RewriteCond %{REQUEST_URI} !(.*)/$
RewriteRule ^(.*)$ $1/ [L,R=301]
